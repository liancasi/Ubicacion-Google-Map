{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:9001/Laboratorio1';\nconst AuthService = {\n  login: async (login, password) => {\n    try {\n      const response = await axios.post(`${API_URL}/personass`, {\n        login,\n        password\n      });\n      if (response.data.token) {\n        localStorage.setItem('user', JSON.stringify(response.data));\n      }\n      return response.data;\n    } catch (error) {\n      console.error('Error en login:', error);\n      if (error.response) {\n        // El servidor respondió con un estado fuera del rango de 2xx\n        throw new Error(error.response.data.message || 'Error en el inicio de sesión');\n      } else if (error.request) {\n        // La petición fue hecha pero no se recibió respuesta\n        throw new Error('No se recibió respuesta del servidor');\n      } else {\n        // Algo sucedió al configurar la petición que provocó un error\n        throw new Error('Error al configurar la petición');\n      }\n    }\n  },\n  logout: () => {\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n    localStorage.removeItem('apiKey');\n  },\n  getCurrentUser: () => {\n    return JSON.parse(localStorage.getItem('user'));\n  },\n  getToken: () => {\n    const user = AuthService.getCurrentUser();\n    return user === null || user === void 0 ? void 0 : user.token;\n  },\n  getApiKey: () => {\n    return localStorage.getItem('apiKey');\n  }\n};\nexport default AuthService;","map":{"version":3,"names":["axios","API_URL","AuthService","login","password","response","post","data","token","localStorage","setItem","JSON","stringify","error","console","Error","message","request","logout","removeItem","getCurrentUser","parse","getItem","getToken","user","getApiKey"],"sources":["C:/Users/ASUS/git/repository/laboratoriofrontend/src/services/AuthService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:9001/Laboratorio1';\r\n\r\nconst AuthService = {\r\n  login: async (login, password) => {\r\n    try {\r\n      const response = await axios.post(`${API_URL}/personass`, { login, password });\r\n      if (response.data.token) {\r\n        localStorage.setItem('user', JSON.stringify(response.data));\r\n      }\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error en login:', error);\r\n      if (error.response) {\r\n        // El servidor respondió con un estado fuera del rango de 2xx\r\n        throw new Error(error.response.data.message || 'Error en el inicio de sesión');\r\n      } else if (error.request) {\r\n        // La petición fue hecha pero no se recibió respuesta\r\n        throw new Error('No se recibió respuesta del servidor');\r\n      } else {\r\n        // Algo sucedió al configurar la petición que provocó un error\r\n        throw new Error('Error al configurar la petición');\r\n      }\r\n    }\r\n  },\r\n\r\n  logout: () => {\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('apiKey');\r\n  },\r\n\r\n  getCurrentUser: () => {\r\n    return JSON.parse(localStorage.getItem('user'));\r\n  },\r\n\r\n  getToken: () => {\r\n    const user = AuthService.getCurrentUser();\r\n    return user?.token;\r\n  },\r\n\r\n  getApiKey: () => {\r\n    return localStorage.getItem('apiKey');\r\n  }\r\n};\r\n\r\nexport default AuthService;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,oCAAoC;AAEpD,MAAMC,WAAW,GAAG;EAClBC,KAAK,EAAE,MAAAA,CAAOA,KAAK,EAAEC,QAAQ,KAAK;IAChC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,GAAGL,OAAO,YAAY,EAAE;QAAEE,KAAK;QAAEC;MAAS,CAAC,CAAC;MAC9E,IAAIC,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;QACvBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAAC,CAAC;MAC7D;MACA,OAAOF,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvC,IAAIA,KAAK,CAACR,QAAQ,EAAE;QAClB;QACA,MAAM,IAAIU,KAAK,CAACF,KAAK,CAACR,QAAQ,CAACE,IAAI,CAACS,OAAO,IAAI,8BAA8B,CAAC;MAChF,CAAC,MAAM,IAAIH,KAAK,CAACI,OAAO,EAAE;QACxB;QACA,MAAM,IAAIF,KAAK,CAAC,sCAAsC,CAAC;MACzD,CAAC,MAAM;QACL;QACA,MAAM,IAAIA,KAAK,CAAC,iCAAiC,CAAC;MACpD;IACF;EACF,CAAC;EAEDG,MAAM,EAAEA,CAAA,KAAM;IACZT,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC;IAC/BV,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC;IAChCV,YAAY,CAACU,UAAU,CAAC,QAAQ,CAAC;EACnC,CAAC;EAEDC,cAAc,EAAEA,CAAA,KAAM;IACpB,OAAOT,IAAI,CAACU,KAAK,CAACZ,YAAY,CAACa,OAAO,CAAC,MAAM,CAAC,CAAC;EACjD,CAAC;EAEDC,QAAQ,EAAEA,CAAA,KAAM;IACd,MAAMC,IAAI,GAAGtB,WAAW,CAACkB,cAAc,CAAC,CAAC;IACzC,OAAOI,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEhB,KAAK;EACpB,CAAC;EAEDiB,SAAS,EAAEA,CAAA,KAAM;IACf,OAAOhB,YAAY,CAACa,OAAO,CAAC,QAAQ,CAAC;EACvC;AACF,CAAC;AAED,eAAepB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}