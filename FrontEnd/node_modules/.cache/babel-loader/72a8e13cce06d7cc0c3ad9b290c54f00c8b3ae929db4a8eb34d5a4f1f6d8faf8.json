{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\git\\\\repository\\\\laboratoriofrontend\\\\src\\\\components\\\\Register.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom'; // Asegúrate de tener react-router-dom instalado\nimport PersonaService from './PersonaService'; // Asegúrate de que la ruta sea correcta\nimport './Register.css'; // Si tienes estilos específicos, de lo contrario, elimina esta línea\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    // Agrega otros campos que necesites, por ejemplo:\n    primerNombre: '',\n    segundoNombre: '',\n    primerApellido: '',\n    segundoApellido: '',\n    email: '',\n    fechaNacimiento: ''\n  });\n  const [error, setError] = useState('');\n  const navigate = useNavigate(); // Para redirigir al usuario después del registro\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      // Registra el usuario\n      await PersonaService.registerUser(formData);\n\n      // Inicia sesión inmediatamente después del registro\n      const loginResponse = await PersonaService.loginUser({\n        username: formData.username,\n        password: formData.password\n      });\n\n      // Guarda el token en localStorage\n      localStorage.setItem('token', loginResponse.token);\n\n      // Redirige a la página de inicio o donde desees\n      navigate('/home');\n    } catch (error) {\n      setError('Error al registrar el usuario. Asegúrate de que los datos sean correctos.');\n      console.error('Error en el registro:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Registro de Usuario\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        value: formData.username,\n        onChange: handleChange,\n        placeholder: \"Username\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        value: formData.password,\n        onChange: handleChange,\n        placeholder: \"Password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"primerNombre\",\n        value: formData.primerNombre,\n        onChange: handleChange,\n        placeholder: \"Primer Nombre\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"segundoNombre\",\n        value: formData.segundoNombre,\n        onChange: handleChange,\n        placeholder: \"Segundo Nombre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"primerApellido\",\n        value: formData.primerApellido,\n        onChange: handleChange,\n        placeholder: \"Primer Apellido\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"segundoApellido\",\n        value: formData.segundoApellido,\n        onChange: handleChange,\n        placeholder: \"Segundo Apellido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        value: formData.email,\n        onChange: handleChange,\n        placeholder: \"Email\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"fechaNacimiento\",\n        value: formData.fechaNacimiento,\n        onChange: handleChange,\n        placeholder: \"Fecha de Nacimiento\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Registrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"GzHhYa47tpYzFRyFTlT6E409W5s=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useNavigate","PersonaService","jsxDEV","_jsxDEV","Register","_s","formData","setFormData","username","password","primerNombre","segundoNombre","primerApellido","segundoApellido","email","fechaNacimiento","error","setError","navigate","handleChange","e","name","value","target","handleSubmit","preventDefault","registerUser","loginResponse","loginUser","localStorage","setItem","token","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","placeholder","required","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/git/repository/laboratoriofrontend/src/components/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom'; // Asegúrate de tener react-router-dom instalado\r\nimport PersonaService from './PersonaService'; // Asegúrate de que la ruta sea correcta\r\nimport './Register.css'; // Si tienes estilos específicos, de lo contrario, elimina esta línea\r\n\r\nconst Register = () => {\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    password: '',\r\n    // Agrega otros campos que necesites, por ejemplo:\r\n    primerNombre: '',\r\n    segundoNombre: '',\r\n    primerApellido: '',\r\n    segundoApellido: '',\r\n    email: '',\r\n    fechaNacimiento: '',\r\n  });\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate(); // Para redirigir al usuario después del registro\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // Registra el usuario\r\n      await PersonaService.registerUser(formData);\r\n      \r\n      // Inicia sesión inmediatamente después del registro\r\n      const loginResponse = await PersonaService.loginUser({\r\n        username: formData.username,\r\n        password: formData.password,\r\n      });\r\n\r\n      // Guarda el token en localStorage\r\n      localStorage.setItem('token', loginResponse.token);\r\n\r\n      // Redirige a la página de inicio o donde desees\r\n      navigate('/home');\r\n    } catch (error) {\r\n      setError('Error al registrar el usuario. Asegúrate de que los datos sean correctos.');\r\n      console.error('Error en el registro:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      <h2>Registro de Usuario</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={formData.username}\r\n          onChange={handleChange}\r\n          placeholder=\"Username\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={formData.password}\r\n          onChange={handleChange}\r\n          placeholder=\"Password\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"primerNombre\"\r\n          value={formData.primerNombre}\r\n          onChange={handleChange}\r\n          placeholder=\"Primer Nombre\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"segundoNombre\"\r\n          value={formData.segundoNombre}\r\n          onChange={handleChange}\r\n          placeholder=\"Segundo Nombre\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"primerApellido\"\r\n          value={formData.primerApellido}\r\n          onChange={handleChange}\r\n          placeholder=\"Primer Apellido\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"segundoApellido\"\r\n          value={formData.segundoApellido}\r\n          onChange={handleChange}\r\n          placeholder=\"Segundo Apellido\"\r\n        />\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={formData.email}\r\n          onChange={handleChange}\r\n          placeholder=\"Email\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          name=\"fechaNacimiento\"\r\n          value={formData.fechaNacimiento}\r\n          onChange={handleChange}\r\n          placeholder=\"Fecha de Nacimiento\"\r\n          required\r\n        />\r\n        {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        <button type=\"submit\">Registrar</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}